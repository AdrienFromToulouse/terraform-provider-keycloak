<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="None">
  
  <link rel="shortcut icon" href="img/favicon.ico">
  <title>Getting Started - Terraform Provider: Keycloak</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="css/theme.css" type="text/css" />
  <link rel="stylesheet" href="css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  <link href="index.css" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Getting Started";
    var mkdocs_page_input_path = "index.md";
    var mkdocs_page_url = "/terraform-provider-keycloak/";
  </script>
  
  <script src="js/jquery-2.1.1.min.js" defer></script>
  <script src="js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="." class="icon icon-home"> Terraform Provider: Keycloak</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="./search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1 current">
		
    <a class="current" href=".">Getting Started</a>
    <ul class="subnav">
            
    <li class="toctree-l2"><a href="#installing">Installing</a></li>
    

    <li class="toctree-l2"><a href="#keycloak-setup">Keycloak Setup</a></li>
    
        <ul>
        
            <li><a class="toctree-l3" href="#client-credentials-grant-setup-recommended">Client Credentials Grant Setup (recommended)</a></li>
        
            <li><a class="toctree-l3" href="#password-grant-setup">Password Grant Setup</a></li>
        
            <li><a class="toctree-l3" href="#assigning-roles">Assigning Roles</a></li>
        
        </ul>
    

    <li class="toctree-l2"><a href="#provider-setup">Provider Setup</a></li>
    
        <ul>
        
            <li><a class="toctree-l3" href="#example-client-credentials">Example (client credentials)</a></li>
        
            <li><a class="toctree-l3" href="#example-password">Example (password)</a></li>
        
        </ul>
    

    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Resources</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="resources/keycloak_realm/">keycloak_realm</a>
                </li>
                <li class="">
                    
    <a class="" href="resources/keycloak_user/">keycloak_user</a>
                </li>
                <li class="">
                    
    <a class="" href="resources/keycloak_group/">keycloak_group</a>
                </li>
                <li class="">
                    
    <a class="" href="resources/keycloak_group_memberships/">keycloak_group_memberships</a>
                </li>
                <li class="">
                    
    <a class="" href="resources/keycloak_openid_client/">keycloak_openid_client</a>
                </li>
                <li class="">
                    
    <a class="" href="resources/keycloak_openid_client_scope/">keycloak_openid_client_scope</a>
                </li>
                <li class="">
                    
    <a class="" href="resources/keycloak_openid_client_default_scopes/">keycloak_openid_client_default_scopes</a>
                </li>
                <li class="">
                    
    <a class="" href="resources/keycloak_openid_user_attribute_protocol_mapper/">keycloak_openid_user_attribute_protocol_mapper</a>
                </li>
                <li class="">
                    
    <a class="" href="resources/keycloak_openid_user_property_protocol_mapper/">keycloak_openid_user_property_protocol_mapper</a>
                </li>
                <li class="">
                    
    <a class="" href="resources/keycloak_openid_group_membership_protocol_mapper/">keycloak_openid_group_membership_protocol_mapper</a>
                </li>
                <li class="">
                    
    <a class="" href="resources/keycloak_openid_hardcoded_claim_protocol_mapper/">keycloak_openid_hardcoded_claim_protocol_mapper</a>
                </li>
                <li class="">
                    
    <a class="" href="resources/keycloak_openid_full_name_protocol_mapper/">keycloak_openid_full_name_protocol_mapper</a>
                </li>
                <li class="">
                    
    <a class="" href="resources/keycloak_saml_client/">keycloak_saml_client</a>
                </li>
                <li class="">
                    
    <a class="" href="resources/keycloak_saml_user_attribute_protocol_mapper/">keycloak_saml_user_attribute_protocol_mapper</a>
                </li>
                <li class="">
                    
    <a class="" href="resources/keycloak_saml_user_property_protocol_mapper/">keycloak_saml_user_property_protocol_mapper</a>
                </li>
                <li class="">
                    
    <a class="" href="resources/keycloak_ldap_user_federation/">keycloak_ldap_user_federation</a>
                </li>
                <li class="">
                    
    <a class="" href="resources/keycloak_ldap_full_name_mapper/">keycloak_ldap_full_name_mapper</a>
                </li>
                <li class="">
                    
    <a class="" href="resources/keycloak_ldap_group_mapper/">keycloak_ldap_group_mapper</a>
                </li>
                <li class="">
                    
    <a class="" href="resources/keycloak_ldap_msad_user_account_control_mapper/">keycloak_ldap_msad_user_account_control_mapper</a>
                </li>
                <li class="">
                    
    <a class="" href="resources/keycloak_ldap_user_attribute_mapper/">keycloak_ldap_user_attribute_mapper</a>
                </li>
                <li class="">
                    
    <a class="" href="resources/keycloak_custom_user_federation/">keycloak_custom_user_federation</a>
                </li>
    </ul>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href=".">Terraform Provider: Keycloak</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".">Docs</a> &raquo;</li>
    
      
    
    <li>Getting Started</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/mrparkers/terraform-provider-keycloak/edit/master/docs/index.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="installing">Installing</h1>
<p>You can download the latest version of this provider on the
<a href="https://github.com/mrparkers/terraform-provider-keycloak/releases">GitHub releases</a>
page.</p>
<p>Please follow the <a href="https://www.terraform.io/docs/configuration/providers.html#third-party-plugins">official docs</a>
for instructions on installing a third-party provider.</p>
<h1 id="keycloak-setup">Keycloak Setup</h1>
<p>This Terraform provider can be configured to use the <a href="https://www.oauth.com/oauth2-servers/access-tokens/client-credentials/">client credentials</a>
or <a href="https://www.oauth.com/oauth2-servers/access-tokens/password-grant/">password</a> grant types. If you aren't
sure which to use, the client credentials grant is recommended, as it was designed for machine to machine authentication.</p>
<h2 id="client-credentials-grant-setup-recommended">Client Credentials Grant Setup (recommended)</h2>
<ol>
<li>Create a new client using the <code>openid-connect</code> protocol. This client can be created in the <code>master</code> realm if you would
like to manage your entire Keycloak instance, or in any other realm if you only want to manage that realm.</li>
<li>Update the client you just created:
    2a. Set "Access Type" to "confidential".
    2b. Set "Standard Flow Enabled" to "OFF".
    2c. Set "Direct Access Grants Enabled" to "OFF"
    2d. Set "Service Accounts Enabled" to "ON".</li>
<li>Grant required roles for managing Keycloak via the "Service Account Roles" tab in the client you created in step 1.</li>
</ol>
<h2 id="password-grant-setup">Password Grant Setup</h2>
<p>These steps will assume that you are using the <code>admin-cli</code> client, which is already correctly configured for this type
of authentication. Do not follow these steps if you have already followed the steps for the client credentials grant.</p>
<ol>
<li>Create or identify the user who's credentials will be used for authentication.</li>
<li>Edit this user in the "Users" section of the management console and assign roles using the "Role Mappings" tab.</li>
</ol>
<h2 id="assigning-roles">Assigning Roles</h2>
<p>There are many different ways that roles can be assigned to manage Keycloak. Here are a couple of common scenarios accompanied
by suggested roles to assign. This is not an exhaustive list, and there is often more than one way to assign a particular set
of permissions.</p>
<ul>
<li>Managing the entire Keycloak instance: Assign the <code>admin</code> role to a user or service account within the <code>master</code> realm.</li>
<li>Managing the entire <code>foo</code> realm: Assign the <code>realm-admin</code> client role from the <code>realm-management</code> client to a user or service
account within the <code>foo</code> realm.</li>
<li>Managing clients for all realms within the entire Keycloak instance: Assign the <code>create-client</code> client role from each of
the realm clients to a user or service account within the <code>master</code> realm. For example, given a Keycloak instance with realms
<code>master</code>, <code>foo</code>, and <code>bar</code>, assign the <code>create-client</code> client role from the clients <code>master-realm</code>, <code>foo-realm</code>, and <code>bar-realm</code>.</li>
</ul>
<h1 id="provider-setup">Provider Setup</h1>
<p>The following provider attributes are supported:</p>
<ul>
<li><code>client_id</code> (Required) - The <code>client_id</code> for the client that was created in the "Keycloak Setup" section. Use the <code>admin-cli</code> client if you are using the password grant. Defaults to the environment variable <code>KEYCLOAK_CLIENT_ID</code>.</li>
<li><code>url</code> (Required) - The URL of the Keycloak instance, before <code>/auth/admin</code>. Defaults to the environment variable <code>KEYCLOAK_URL</code>.</li>
<li><code>client_secret</code> (Optional) - The secret for the client used by the provider for authentication via the client credentials grant. This can be found or changed using the "Credentials" tab in the client settings. Defaults to the environment variable <code>KEYCLOAK_CLIENT_SECRET</code>. This attribute is required when using the client credentials grant, and cannot be set when using the password grant.</li>
<li><code>username</code> (Optional) - The username of the user used by the provider for authentication via the password grant. Defaults to environment variable <code>KEYCLOAK_USER</code>. This attribute is required when using the password grant, and cannot be set when using the client credentials grant.</li>
<li><code>password</code> (Optional) - The password of the user used by the provider for authentication via the password grant. Defaults to environment variable <code>KEYCLOAK_PASSWORD</code>. This attribute is required when using the password grant, and cannot be set when using the client credentials grant.</li>
<li><code>realm</code> (Optional) - The realm used by the provider for authentication. Defaults to environment variable <code>KEYCLOAK_REALM</code>, or <code>master</code> if the environment variable is not specified.</li>
</ul>
<h4 id="example-client-credentials">Example (client credentials)</h4>
<pre><code class="hcl">provider &quot;keycloak&quot; {
    client_id     = &quot;terraform&quot;
    client_secret = &quot;884e0f95-0f42-4a63-9b1f-94274655669e&quot;
    url           = &quot;http://localhost:8080&quot;
}
</code></pre>

<h4 id="example-password">Example (password)</h4>
<pre><code class="hcl">provider &quot;keycloak&quot; {
    client_id     = &quot;terraform&quot;
    username      = &quot;keycloak&quot;
    password      = &quot;password&quot;
    url           = &quot;http://localhost:8080&quot;
}
</code></pre>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="resources/keycloak_realm/" class="btn btn-neutral float-right" title="keycloak_realm">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/mrparkers/terraform-provider-keycloak/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
      
        <span style="margin-left: 15px"><a href="resources/keycloak_realm/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '.';</script>
    <script src="js/theme.js" defer></script>
      <script src="search/main.js" defer></script>

</body>
</html>

<!--
MkDocs version : 1.0.4
Build Date UTC : 2019-02-22 18:47:11
-->
